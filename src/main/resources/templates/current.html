<!DOCTYPE html>
<html
        xmlns:th="http://www.w3.org/1999/xhtml"
>
  <head>
    <meta http-equiv="Content-Type" content="application/json; charset=UTF-8" />

    <title>My messages</title>
    <link rel="stylesheet" href="/style/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <!-- <link rel="stylesheet" href="../static/style/style.css" /> -->
  </head>
  <body>
  <header>
    <div th:insert="navBar::navbar"></div>
  </header>

    <main class="main">
      <div class="left-block">
        <h1 class="h1 header-text">Мои заявки</h1>
        <div class="left-block-down" th:each="message : ${user.messages}">
          <div class="card">
            <div class="card-body m-2">
              <h4 class="card-header" th:text="${message.getDescription}">a</h4>
              <a class="button" data-bs-toggle="collapse" th:href="'#content' + ${message.getId}" role="button" aria-expanded="false" aria-controls="content">Детали</a>
              <div class="card-text collapse" th:id="'content' + ${message.getId}">
                <label for="id">Номер заявки</label>
                <p id="id" th:text="${message.getId}">a</p>
                <label for="status">Статус заявки</label>
                <p id="status" th:text="${message.getStatus}">a</p>
                <label for="type">Тип неполадки</label>
                <p id="type" th:text="${message.getType.getDescription}">a</p>
                <label for="priority">Приоритет</label>
                <p id="priority" th:text="${message.getPriority.getDescription}">a</p>
                <div align="right" th:each="comment : ${message.getComments}">
                  <div th:text = "${comment.getDate} + ' ' + ${comment.getDescription}">a</div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="right_block">
        <div class="right-block-up">
          <h3 class="header-text">Быстрые заявки</h3>

          <div th:each="message : ${quickMessages}">
            <form
                  class="right-block-up-button"
                  method="POST"
                  th:action="@{/workplace/message/save}">
              <input
                      class="button"
                      type="hidden"
                      name="description"
                      th:value="${message.getDescription}"
              />

              <input
                      class="button interior-block"
                      type="submit"
                      th:value="${message.getDescription}"
              />
            </form>
          </div>

        </div>
        <div class="right-block-down">
          <div class="section_forms_forms">
            <h3 class="header-text">Своя заявка</h3>
            <form method="POST" th:action="@{/workplace/message/save}">
              <input
                class="section_forms_input"
                type="text"
                name="description"
                placeholder=" Чем я могу вам помочь?"
              />

              <input class="button_mail" type="submit" value="Отправить" />
            </form>
          </div>
        </div>
      </div>
    </main>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
